<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:Launcher.ViewModels"
             x:Class="Launcher.Views.WineSetupView"
             x:DataType="vm:WineSetup">

    <Border Background="{DynamicResource Color.Popup}" BorderBrush="{DynamicResource Color.Border}"
            BorderThickness="2" CornerRadius="10" Padding="30" Width="450">

        <StackPanel Spacing="20" VerticalAlignment="Center">
            
            <Path Data="{StaticResource Icons.Loading}" Classes="rotating"
                  Width="40" Height="40" HorizontalAlignment="Center"
                  IsVisible="{Binding IsInstalling}"/>

            <TextBlock Text="{Binding TitleText}" FontSize="20" HorizontalAlignment="Center" Foreground="{DynamicResource Color.FG1}"/>

            <TextBlock Text="{Binding StatusText}" FontSize="14" HorizontalAlignment="Center" 
                       TextWrapping="Wrap" TextAlignment="Center" Foreground="{DynamicResource Color.FG2}"/>

            <ProgressBar Value="{Binding ProgressValue}" Maximum="100" Height="10" CornerRadius="5"
                         IsVisible="{Binding IsInstalling}" Foreground="{DynamicResource Color.Accent1}"/>

            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="20" IsVisible="{Binding !IsInstalling}">
                <Button Content="Install" Command="{Binding StartInstallCommand}" Classes="flat primary" Width="100"/>
                <Button Content="Cancel" Command="{Binding CancelCommand}" Classes="flat" Width="100"/>
            </StackPanel>

        </StackPanel>
    </Border>
</UserControl>