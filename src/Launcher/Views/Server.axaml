<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:md="https://github.com/whistyun/Markdown.Avalonia"
             xmlns:vm="using:Launcher.ViewModels"
             mc:Ignorable="d" d:DesignWidth="650" d:DesignHeight="550"
             x:DataType="vm:Server"
             x:Class="Launcher.Views.Server">

	<Grid RowDefinitions="50,40,250,*" ColumnDefinitions="*,Auto">
		<StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center">
			<Button Classes="no_background" Command="{Binding RefreshServerStatusCommand}">
				<Path Width="18" Height="18" Classes.rotating="{Binding IsRefreshing}" Data="{StaticResource Icons.Loading}" Stretch="Fill" />
			</Button>
			<TextBlock FontSize="24" Text="{Binding Info.Name}" Margin="10,0" VerticalAlignment="Center" />
		</StackPanel>

		<StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,10">
			<TextBlock Text="Status: " FontSize="15" />
			<TextBlock Text="{Binding Status}" FontSize="15" Foreground="{Binding ServerStatusFill}" Margin="5,0,20,0"/>
			<TextBlock Text="Players: " FontSize="15" />
			<TextBlock Text="{Binding OnlinePlayers}" FontSize="15" Width="30" Margin="5,0,0,0"/>
		</StackPanel>

		<Border Grid.Row="2" Margin="0,45,0,0" Width="580" BorderBrush="{StaticResource Color.Border}" BorderThickness="1" CornerRadius="5">
			<ScrollViewer>
				<md:MarkdownScrollViewer Markdown="{Binding Info.Description}" HorizontalAlignment="Center"/>
			</ScrollViewer>
		</Border>

		<Grid Grid.Row="3" VerticalAlignment="Center" HorizontalAlignment="Center">
			<Button Classes="no_background" Cursor="Hand" Command="{Binding PlayCommand}">
				<Image Source="/Assets/fr_asset3.png" Width="165" />
			</Button>
		</Grid>

		<StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="15" Spacing="10">
			<Button Classes="flat primary" 
                    Command="{Binding OpenConfigCommand}"  
                    ToolTip.Tip="Graphics Settings">
				<Path Width="16" Height="16" Data="{StaticResource Icons.Settings}" Stretch="Fill" />
			</Button>

			<Button Classes="flat primary" Command="{Binding OpenClientFolderCommand}" ToolTip.Tip="Open Folder">
				<Button.Background>
					<LinearGradientBrush StartPoint="50%,0%" EndPoint="50%,100%">
						<GradientStop Color="#96B9D9" Offset="0.0"/>
						<GradientStop Color="#202959" Offset="1.0"/>
					</LinearGradientBrush>
				</Button.Background>
				<Path Width="16" Height="16" Data="{StaticResource Icons.Folder}" Stretch="Fill" />
			</Button>
		</StackPanel>
	</Grid>
</UserControl>
